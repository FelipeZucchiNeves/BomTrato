<div class="page-content page-container d-flex justify-content-center mt-2" id="page-content">
    <div class="row container">
        <div class="col-md-12">
            <div class="card card-bordered">
                <div class="card-header">
                    <h4 class="card-title text-center"><strong>Chat</strong></h4>
                </div>
                <div class="ps-container ps-theme-default ps-active-y" id="chat-content"
                    style="overflow-y: scroll !important; height:70vh !important;">
                    <div #messagesContainer class="messages-container ml-2" *ngIf="liveChatOn">
                        <div class="message" *ngFor="let message of chatMessages"
                            [class.right-side-message]="message.type === messageEnumRef.CurrentUserMessage"
                            [class.center-side-message]="message.type === messageEnumRef.ChatActions">
                            <div class="message-content"
                                [class.message-content-right-side]="message.type === messageEnumRef.CurrentUserMessage"
                                [class.action-message]="message.type === messageEnumRef.ChatActions"> 
                                <p> {{ message.content }} </p>
                            </div>
                            <p class="user-name" *ngIf="message.type !== messageEnumRef.ChatActions"
                                [class.user-name-right-side]="message.type === messageEnumRef.CurrentUserMessage">
                                {{ message.userName }}
                            </p>
                        </div>
                    </div>
                </div>
                <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 0px;">
                    <div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div>
                </div>
                <div class="ps-scrollbar-y-rail" style="top: 0px; height: 0px; right: 2px;">
                    <div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 2px;"></div>
                </div>
            </div>
            <div class="publisher bt-1 border-light">
                <a class="leave-chat-btn mr-1 " href="javascript:void(0)" (click)="leaveChatAsync()">
                    <i class="fas fa-sign-out-alt"></i></a>
                <img class="avatar avatar-xs" src="https://img.icons8.com/color/36/000000/administrator-male.png">
                <input class="publisher-input  col-md-11" type="text" placeholder="Escreva aqui..." #newMessageInput
                    (keyup.enter)="sendNewMessage(newMessageInput)">
                <a class="publisher-btn text-info ml-2 mr-1" data-abc="true" href="javascript:void(0)" (click)="sendNewMessage(newMessageInput)">
                    <i class="fa fa-paper-plane "></i></a>
            </div>
        </div>
    </div>
</div>